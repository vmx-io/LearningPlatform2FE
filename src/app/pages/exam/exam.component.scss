.exam-wrap {
    max-width: 900px;
    margin: 0 auto;
    padding: 16px;
  }
  
  .start-form {
    display: flex;
    gap: 12px;
    align-items: center;
    label { display: inline-flex; gap: 6px; align-items: center; }
  }
  
  .exam-header {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 12px;
    align-items: center;
    margin-bottom: 16px;
  
    .timer {
      font-weight: 600;
      .bar {
        height: 6px; background: #eee; border-radius: 4px; margin: 6px 0;
        .fill { height: 100%; background: #3b82f6; border-radius: 4px; width: 0%; transition: width .3s; }
      }
      small { color: #666; }
    }
  
    .nav {
      display: flex; gap: 8px; align-items: center; flex-wrap: wrap;
      .window { display: inline-flex; gap: 4px; }
      .window button.active { font-weight: 700; text-decoration: underline; }
    }
  }
  
  .question .q-text { font-size: 1.1rem; margin-bottom: 10px; }
  .options { list-style: none; padding: 0; margin: 0 0 12px; }
  .options li { margin: 6px 0; }
  .actions { display: flex; gap: 8px; }
  
  button {
    padding: 8px 14px;
    font-size: 14px;
    font-weight: 500;
    border-radius: 4px;
    border: 1px solid #ccc;
    background: #f5f5f5;
    color: #333;
    cursor: pointer;
    transition: background-color 0.15s ease, border-color 0.15s ease, transform 0.1s ease;
  
    &:hover:not(:disabled) {
      background: #e9ecef;
      border-color: #bbb;
    }
  
    &:active:not(:disabled) {
      background: #dce3e9;
      transform: translateY(1px);
    }
  
    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  
    &.active {
      background: #007bff;
      border-color: #007bff;
      color: #fff;
    }
  }
  
  /* Secondary style */
  button.secondary {
    background: #fff;
    border-color: #ccc;
    color: #555;
  
    &:hover:not(:disabled) {
      background: #f0f0f0;
    }
  
    &:active:not(:disabled) {
      background: #e0e0e0;
    }
  }
  
  /* Make footer buttons adapt to dark mode */
  @media (prefers-color-scheme: dark) {
    button {
      background: #2b2b2b;
      color: #eee;
      border-color: #444;
  
      &:hover:not(:disabled) {
        background: #3a3a3a;
        border-color: #666;
      }
  
      &:active:not(:disabled) {
        background: #4a4a4a;
      }
  
      &.active {
        background: #3399ff;
        border-color: #3399ff;
        color: #fff;
      }
    }
  }
  /* Modal base (same pattern you used elsewhere) */
.modal-backdrop {
    position: fixed; inset: 0;
    background: rgba(0,0,0,.35);
    display: grid; place-items: center;
    z-index: 1100;
  }
  .modal {
    background: #fff;
    padding: 16px;
    border-radius: 10px;
    min-width: 340px;
    max-width: 90vw;
    max-height: 80vh;
    overflow: auto;
    box-shadow: 0 10px 30px rgba(0,0,0,.25);
  }
  
  /* Map-specific */
  .modal-map .modal-head {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 10px;
  }
  .modal-map .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(44px, 1fr));
    gap: 8px;
  }
  .modal-map .grid button {
    height: 44px;
    padding: 0;
    border-radius: 8px;
    font-weight: 600;
  }
  .modal-map .grid button.current {
    outline: 2px solid #3b82f6;
  }
  .modal-map .grid button.answered {
    background: #e8f5e9;
    border-color: #a5d6a7;
    color: #256029;
  }
  .modal-map .legend {
    display: flex; gap: 16px; align-items: center;
    margin-top: 12px; font-size: 12px; color: #555;
  }
  .modal-map .legend .dot {
    display: inline-block; width: 12px; height: 12px; border-radius: 3px; margin-right: 6px;
    vertical-align: -2px;
  }
  .modal-map .legend .dot.current { background: #cfe2ff; border: 1px solid #3b82f6; }
  .modal-map .legend .dot.answered { background: #e8f5e9; border: 1px solid #a5d6a7; }
  
  /* Dark mode */
  @media (prefers-color-scheme: dark) {
    .modal { background: #1f1f1f; color: #eaeaea; }
    .modal-map .grid button.answered {
      background: #1f2a1f; border-color: #2e7d32; color: #b9f6ca;
    }
    .modal-map .legend .dot.current { background: #19324d; border-color: #3b82f6; }
    .modal-map .legend .dot.answered { background: #1f2a1f; border-color: #2e7d32; }
  }